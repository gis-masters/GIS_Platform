Feature: Публикация GML

  Background:
    Given Существует любая организация
    *     Владелец организации авторизован
    *     Существует проект "some gml"
    *     Существует GML файл
    *     B библиотеке по-умолчанию существует документ
    *     к текущему документу прикреплён GML файл

  Scenario: При публикации GML создаётся новый набор данных, все слои размещаются в этом наборе данных
    When пользователь публикует GML
    Then процесс завершается успешно
    And  создан новый набор данных, с таблицами в нём

  Scenario: При публикации GML в проекте создаётся группа, все слои размещаются в этой группе включёнными
    When пользователь публикует GML
    Then процесс завершается успешно
    And  в проекте слои были размещены в новой группе, все слои включены

#  #TODO: расскипать после 3104
#  Scenario: Импорт GML успешно создаёт объекты любой валидной геометрии
#    Given Владелец организации авторизован
#    *     Существует проект "some gml test"
#    *     Существует файл "gmlGeometryTest.gml"
#    *     к текущему документу прикреплён GML файл: "gmlGeometryTest.gml"
#    When  пользователь публикует GML
#    Then  процесс завершается успешно
#    And   пользователь опрашивает процесс
#    *     в созданном наборе данных 10 слоёв
#    And   атрибуты фичи равны ожидаемым
#      | layer                      | globalid     | shape                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
#      | transplogisticobj_point    | Point        | 0101000020110F000036FBEADBDBF04C41A0A1C141B66F5541                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
#      | publictransportstops_point | MultiPoint   | 0104000020110F00000200000001010000000D537C767AF54C419EB0A7BDA96D554101010000009EC2802ECFF44C412D86C007606D5541                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
#      | admborder_line             | Line         | 0102000020110F000003000000C99FB9CA81EF4C416C89685CBE6E55411520C8B029F24C41FF707EEB456F55411622B35DAEF04C41DF6058AB256E5541                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
#      | pipeline_line              | MultiLine    | 0105000020110F000002000000010200000003000000047DF92900F24C41C77C025B1F6C5541C2D09338B2F24C41F96DE39CC46A5541BA1DB379D0F34C4137EC2D9CF56B5541010200000003000000A977442FB8F24C4152DC8A1EFE6A554178C64A1999F34C41AD6C801A606C55414B845B6ED9F44C41D4883223FB6A5541                                                                                                                                                                                                                                                                                                                                                                           |
#      | railwayline_line           | Curve        | 0105000020110F00000100000001020000000400000094DCFE6C91F24C41DAF6A89DB26F5541B0A7C2AA55F34C41F5597123676F554130FAA3C0D9F34C418A27B780B46F554159F06C4F6CF34C417157EF03DE6F5541                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
#      | street_line                | MultiCurve   | 0105000020110F00000200000001020000000600000094DCFE6C91F24C41DAF6A89DB26F554159F06C4F6CF34C41F212733E016F5541A55BC086DDF34C413A296340656F5541B0A7C2AA55F34C41F5597123676F554130FAA3C0D9F34C418A27B780B46F554159F06C4F6CF34C417157EF03DE6F5541010200000004000000E48E508968F34C41FED4D56A306F554138FFA7FFEBF24C41564029A2A16F5541E48E508968F34C41AA647EF4AC6F5541BB308C42C6F24C41A53E7DE2F06F5541                                                                                                                                                                                                                                           |
#      | gaspipeline_line           | CurvePolygon | 0105000020110F00000100000001020000000E000000D3A7F22436EF4C41A63771E9E16D554114666F0941EF4C41D53E7E57B66D55415EAF59A789EF4C41A9800173AB6D5541FE7BF0673DEF4C413B8F48D9936D55415EAF59A789EF4C41C228D06E7A6D554182CCE7735AEF4C41E6D09E6A496D5541CC15D211A3EF4C41AF1222863E6D5541920EC5A3CEEF4C4131DF8BBCB26C5541560E6B8F4FEF4C4131DF8BBCB26C554148C5DA0586EF4C414FDFB846F26C55417B1578FD23EF4C41D3BAF0810D6D5541B51C856BF8EE4C415D2849D0BB6C554119E9C1172DEE4C417E7106E4C46C5541D3A7F22436EF4C41A63771E9E16D5541                                                                                                                             |
#      | functionalzone             | Polygon      | 0103000020110F0000010000000500000041D1021945ED4C41B582CBACF26F5541C6BE2621C8FA4C419B3E7937896F5541851B99D72CF94C413E07F56B14685541A883272AA2EA4C41D94E270F3468554141D1021945ED4C41B582CBACF26F5541                                                                                                                                                                                                                                                                                                                                                                                                                                       |
#      | education                  | MultiPolygon | 0106000020110F000002000000010300000001000000060000007AEE6F9A9BF74C41AABAC3F7CD6C55418728321FBEF64C41B8781352996C5541BB879D1B03F74C41A9363622256C5541678EF660D9F54C41FDF4DF906F6C55418728321FBEF64C4183C96472356D55417AEE6F9A9BF74C41AABAC3F7CD6C554101030000000100000004000000FE3E67A6B8F74C410596CEA8A96C5541EEFC897644F74C415C8E3A9C166C5541D1711CBD06F74C416071D959856C5541FE3E67A6B8F74C410596CEA8A96C5541                                                                                                                                                                                                                           |
#      | culture                    | MultiSurface | 0106000020110F00000300000001030000000100000004000000D1AEA57E8BEE4C413C3574BCA969554155E91B2CACEE4C41984A41F2A76855411F7BE22AC0ED4C41FE0FCB4487685541D1AEA57E8BEE4C413C3574BCA969554101030000000100000004000000396D7C7715EF4C410577F7D79E69554133DB5B6482EF4C41E567FC48B86855413983FDD511EF4C41984A41F2A7685541396D7C7715EF4C410577F7D79E69554101030000000100000008000000F8E9CF54AAEF4C41B91E3F35AF685541DC6D30A013F04C41D71E6CBFEE68554157F8E93053EF4C41C9601C65236955410A3B7B89C5F04C413752D5FE3A69554126A199DF5FF04C41CE43BB2292695541973B2FB2C3F14C418C107F6D85695541700005DCA4F04C418DD58121A6685541F8E9CF54AAEF4C41B91E3F35AF685541 |